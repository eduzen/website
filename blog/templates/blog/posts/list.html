{% extends 'blog/utils/base.html' %}

{% load crispy_forms_tags i18n %}


{% block section_title %}
  <p>
    Blog
    {% if tag %}
      <span class="text-2xl font-normal">|</span>
      <span class="text-2xl font-normal">{{ tag }}</span>
    {% else %}
      {% translate 'or just public notes' %}
    {% endif %}
  </p>
{% endblock %}

{% block content %}

  {% for post in posts %}
    <article class="p-4 pb-8 rounded-lg shadow-md flex{% if forloop.counter|divisibleby:2 %} flex-row-reverse{% endif %}">
      {% if post.image %}
      <div class="w-1/5 mr-4{% if forloop.counter|divisibleby:2 %} ml-4{% endif %}"> <!-- Adjusted the width to 1/5 -->
        <img
          src="{{ post.image.url }}"
          alt="{{ post.title }} image"
          class="object-cover w-full h-auto"
        />
      </div>
      {% endif %}
      <div class="flex-1">
        <a href="{{post.get_absolute_url}}" class="text-xl mb-2 font-bold text-purple-400 hover:text-orange-400 transition duration-300">
          {{ post.title }}
        </a>
        <p class="mb-2 dracula-date"><time datetime="{{ post.published_date|date:"Y-m-d" }}">{{ post.published_date|date:"F j, Y" }}</time></p>
        <p class="mb-4">{{ post.pompadour }}</p>
        <div class="tags">
            {% for tag in post.tags.all %}
            <span class="bg-blue-500 text-white px-2 py-1 rounded-full text-sm mr-2 hover:bg-orange-500">
              <a href="{% url 'bytag' tag=tag %}" class="text-white">{{tag}}</a>
            </span>
            {% endfor %}
        </div>
      </div>
    </article>
  {% empty %}
    <p class="text-lg text-center dracula-text"> Empty posts </p>
  {% endfor %}

  {% include 'blog/extras/paginator.html' %}

{% endblock %}
